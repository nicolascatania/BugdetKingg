<div class="w-full px-4 py-6">
  <h1 class="text-2xl font-semibold mb-6">Categories</h1>

  <div class="flex flex-wrap gap-4 mb-14">
    <button
      (click)="openCategoryModal(null)"
      class="flex items-center gap-2 px-5 py-2 rounded-lg bg-accent-blue/90 hover:bg-accent-blue text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-accent-blue/50"
    >
      <i class="fa-solid fa-circle-plus"></i>
      Category
    </button>
  </div>

  <!-- Card -->
  <div class="bg-card border border-border rounded-lg shadow-sm p-4">
    <!-- Table wrapper -->
    <div class="overflow-x-auto">
      <table class="min-w-full border-collapse">
        <thead>
          <tr
            class="border-b text-left text-sm font-medium text-muted-foreground"
          >
            <th class="px-4 py-3">Name</th>
            <th class="px-4 py-3">Description</th>
            <th class="px-4 py-3 text-center">Actions</th>
          </tr>
        </thead>

        <tbody class="divide-y divide-border text-sm">
          @for (category of categories(); track category.id) {
          <tr class="hover:bg-muted/50 transition-colors">
            <td class="px-4 py-3">{{ category.name }}</td>

            <td class="px-4 py-3">{{ category.description }}</td>
            <td class="px-4 py-3 flex flex-wrap justify-center align-middle gap-2">
              <i
                (click)="openCategoryModal(category)"
                class="fa-solid fa-pen-to-square text-accent-blue hover:text-accent-blue/80 cursor-pointer"
              ></i>
              <i
                class="fa-solid fa-trash text-accent-blue hover:text-accent-blue/80 cursor-pointer"
                (click)="deleteCategory(category)"
              ></i>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>

@if(isModalCategoryOpen()) {
<app-edit-category
  (submitEvent)="onCategorySaved()"
  [category]="selectedCategory()"
></app-edit-category>
}
